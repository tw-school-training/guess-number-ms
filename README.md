# Guess Number
guess-number micro service version.  
猜数字游戏。

## Overview
游戏有四个格子，每个格子有一个0到9的数字，任意两个格子的数字都不一样。你有六次猜测机会，
如果猜对则获胜，否则失败。每次猜测时需依序输入4个数字，程序会根据猜测的情况给出xAxB的反馈，
A前面的数字代表位置和数字都对的个数，B前面的数字代表数字对但是位置不对的个数。  

例如：答案是1 2 3 4，那么对于不同的输入，有如下的输出

Example：  
> 答案是1 2 3 4，那么对于不同的输入，有如下输出  

```text
Input     Output        Instruction
1 5 6 7    1A0B          1 correct
2 4 7 8    0A2B          2 and 4 wrong position
0 3 2 4    1A2B          4 correct, 2 and 3 wrong position
5 6 7 8    0A0B          all wrong
4 3 2 1    0A4B          4 numbers position wrong
1 2 3 4    4A0B          win, all correct
1 1 2 3   Wrong Input, Input again
1 2       Wrong Input, Input again
```
答案在游戏开始时随机生成。玩家通过访问API进行游戏，每次游戏输入只有6次机会，在每次猜测时，程序应给出当前的猜测结果，
以及之前所有猜测的数字和结果以供玩家参考。

要求：
* 设计和编写测试用例
* 完成已有测试文件中的测试，并保证此测试文件所测类的测试覆盖率为100%
* 单元测试应涵盖所有核心业务逻辑
* 用小步骤进行单元测试重构
* 为单元测试和方法命名有意义的名称
* 代码通过小步骤提交并附上有意义的评论

## Analysis
先根据需求提炼一下角色，Game，Rule。  
规则是属于游戏的，游戏依赖于规则，游戏和规则的关系属于聚合关系，因此要实现游戏，要像搭积木一样，先搭底层。  
A和B的共同点是都是在正确的数字前提下，不同点是A表示位置正确，B表示位置不正确，两者刚好互补。所以，规则可以转换为 => 
在包含正确数字的中，A代表位置正确的数字个数，B代表位置不正确的数字个数。  
规则从一个复合的规则，转换成了一个简单的单一规则。
用数学来表示出来，如下：  
A：位置正确的个数
B：位置不正确的个数
A+B：数字正确的个数
C：数字不正确的个数
A+B与C是互补的，合起来刚好是所有数字的个数  
（C是为了数学分析的完整性而提出来的，不是本游戏的关注重点。）
所以规则场景可以列举出来，如下：  
1. 数字全对：只存在AB，不存在C
    1. 位置全对
    2. 位置部分对
    3. 位置全不对
2. 数字部分对：存在AB，也存在C
    1. 位置全对
    2. 位置部分对
    3. 位置全不对
3. 数字全不对：不存在AB的一种极端场景

1和2可以合并，进一步提炼，如下：
1. 在所有正确的数字中，x=位置对的个数，y=位置错的个数，x>0,y>0
    1. 位置全对 => xA0B
    2. 位置部分对 => xAyB
    3. 位置全不对 => 0AxB
2.数字全不对：不存在AB的一种极端场景 => 0A0B

限定职责范围：规则只输出结果，输赢由游戏决定。






